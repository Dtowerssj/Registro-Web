<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>Registro</title>
        <link rel="stylesheet" href="styles/style.css">
    </head>
    <body>
        <div class="hero-image">
            <div class="form-box">
                <form id="register" class ="input-group">
                    <input type="number" min="1" max="99999999" class="input-field" name="cedula" placeholder="Cédula" required>
                    <input type="text" class="input-field" name="nombre" placeholder="Nombre y apellido" required>
                    <input type="email" class="input-field" name="correo" placeholder="Correo electrónico" required>
                    <input id="fecha" type="date" class="input-field" name="birth" placeholder="Fecha de nacimiento" required>
                    <input type="tel" minlength="11" maxlength="11" class="input-field"  name="telefono" placeholder="Número de teléfono" max="11" required>
                    <input type="password" class="input-field" name="clave" placeholder="Contraseña" required>  
                    <input type="checkbox" class="check-box" name="checkbox" required="Debes aceptar los términos y condiciones"><span>Aceptar términos y condiciones</span>
                    <button type="submit" id="submitButton" name="submitButton" class="submit-btn" value="registrarUsuario">Registrar</button>
                </form>
        	</div>
        </div>
    </body>
   <script>
       var formulario = document.getElementById("registerForm");

formulario.addEventListener('submit', function(e){
    e.preventDefault();
    var formD = new FormData(formulario);

    var data ={
        method: "POST",
        body: formD
    };

    fetch('https://pantalla-registro.herokuapp.com/Register', data)
    .then(respuesta => respuesta.json())
    .then(dataServ => {
        if(dataServ.status == 200){
            window.open("_self");
            alert(dataServ.message);
        }else{
            window.open("_self");
            alert(dataServ.message);
        }
    })
    .catch(error => console.error())
});
   </script> 
</html>